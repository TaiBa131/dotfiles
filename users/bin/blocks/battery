#!/usr/bin/env sh
# Give a battery name (e.g. BAT0) as an argument.

case $BLOCK_BUTTON in
	1) notify-send "$(acpi -b)";;
esac

status=$(acpi -b | awk '{print $3}' | sed 's/,//')
[ "$status" = "Not" ] && capacity=$(acpi -b | awk '{print $5}' | sed 's/\%//;s/,//') || capacity=$(acpi -b | awk '{print $4}' | sed 's/\%//;s/,//')

if [ "$status" = "Charging" ]; then
	out=" $capacity%"
elif [ "$capacity" -ge 75 ]; then
	out=" $capacity%"
elif [ "$capacity" -ge 50 ]; then
	out=" $capacity%"
elif [ "$capacity" -ge 20 ]; then
	out=" $capacity%"
else
	out=" $capacity% "
fi

echo $out
